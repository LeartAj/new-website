<!DOCTYPE html>
<html>
<head>
    <title>Test Technical JS</title>
</head>
<body>
    <h1>Technical.js Test</h1>
    <button onclick="testStatic()">Test Static Works</button>
    <button onclick="testSaved()">Test Saved Works</button>
    <button onclick="clearCache()">Clear Browser Cache & Reload</button>
    <pre id="output"></pre>

    <script src="technical.js"></script>
    <script>
        function testStatic() {
            const works = getStaticTechnicalWorks();
            const combinatorics = works.find(w => w.title.toLowerCase().includes('combinatorics'));
            document.getElementById('output').textContent = JSON.stringify(combinatorics, null, 2);
        }

        function testSaved() {
            const works = getSavedTechnicalWorks();
            const combinatorics = works.find(w => w.title.toLowerCase().includes('combinatorics'));
            document.getElementById('output').textContent = combinatorics ? 
                JSON.stringify(combinatorics, null, 2) : 
                'No Combinatorics in localStorage';
        }

        function clearCache() {
            // Clear localStorage combinatorics
            for (let i = localStorage.length - 1; i >= 0; i--) {
                const key = localStorage.key(i);
                if (key && key.startsWith('technical_work_')) {
                    const work = JSON.parse(localStorage.getItem(key));
                    if (work.title && work.title.toLowerCase().includes('combinatorics')) {
                        localStorage.removeItem(key);
                        console.log('Removed:', key);
                    }
                }
            }
            // Force reload without cache
            location.reload(true);
        }
    </script>
</body>
</html>
